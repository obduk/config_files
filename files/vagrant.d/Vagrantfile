Vagrant.configure(2) do |config|
  config.vm.synced_folder "#{ENV['HOME']}/workspace/config_files", '/home/vagrant/.config_files', nfs: true

  config.vm.provision :chef_apply do |chef|
    chef.recipe = <<EOF
file '/etc/profile.d/vagrant.sh' do
  content 'if [ -n "$BASH_VERSION" ]; then cd /vagrant; fi'
end

package 'ctags'
package 'git'
package 'htop'
EOF
  end

  config.vm.provision 'shell', privileged: false, inline: '/home/vagrant/.config_files/bin/bootstrap'
end
