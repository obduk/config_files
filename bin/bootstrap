#!/bin/bash
set -e

cd `dirname $0`/..

git submodule init
git submodule update

for file in `ls -A files`
do
  if [ -f files/$file ]
  then
    ln -sfn `pwd`/files/$file ~/$file
  else
    mkdir -p ~/$file

    for dir_file in `ls -A files/$file`
    do
      ln -sfn `pwd`/files/$file/$dir_file ~/$file/$dir_file
    done
  fi
done
